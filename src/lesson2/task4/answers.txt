1. Что такое облако точек? Какие данные оно обычно содержит?

Облако точек — это набор дискретных точек в пространстве, обычно в 3D, каждая из которых описывается координатами x,y,z. Помимо координат, облако точек может содержать дополнительные данные (атрибуты): цвет RGB, интенсивность отражения, дальность, время измерения, номер возврата, класс объекта, нормали или оценку качества точки.

2. Что такое скалярное поле в контексте облака точек?

Скалярное поле в контексте облака точек - это одно числовое значение, сопоставленное каждой точке облака. Оно описывает некоторую физическую или вычисляемую характеристику точки (например, интенсивность, высоту, температуру, ошибку или плотность) и обычно хранится как одномерный массив длины, равной числу точек.

3. Как можно связать скалярное поле с точками?

Связь скалярного поля с точками осуществляется по индексу: каждому элементу массива координат (x_i, y_i, z_i) соответствует одно скалярное значение s_i. На практике это реализуется либо как отдельный массив скалярных значений, либо как дополнительный столбец в общем массиве данных, например (x, y, z, s).

4. Приведите примеры реальных скалярных полей (например, в данных LIDAR или фотограмметрии).

- в данных LiDAR будет интенсивность отражённого сигнала, дальность до точки, номер возврата, уверенность классификации;
- в фотограмметрии: яркость или цветовой канал, глубина, ошибка реконструкции, плотность соседних точек, показатель качества соответствия.

5. Как с помощью NumPy создать массив скалярных значений для точек?

- задание константного поля: scalar = np.ones(N) или np.zeros(N);
- генерация случайных значений: scalar = np.random.rand(N);
- вычисление поля из координат точек, например расстояния до начала координат: scalar = np.linalg.norm(xyz, axis=1).

6. Как добавить к каждому значению скалярного поля постоянную величину?

Добавление постоянной величины к скалярному полю выполняется поэлементно. В NumPy это делается одной операцией над массивом:
scalar_new = scalar + c, где c - заданная константа. При этом ко всем значениям поля прибавляется одно и то же число, а относительные различия между значениями сохраняются.

7. Как умножить все значения скалярного поля на коэффициент?

Умножение скалярного поля на коэффициент также выполняется поэлементно:
scalar_new = scalar * k, где k - коэффициент масштабирования. Такая операция изменяет масштаб поля: при k > 1 значения увеличиваются, при 0 < k < 1 - уменьшаются, при отрицательном k меняется знак.

8. Что произойдёт с данными при нормализации скалярного поля в диапазон [0, 1]?

Нормализация скалярного поля в диапазон [0, 1] приводит все значения к единому безразмерному масштабу: минимальное значение становится 0, максимальное — 1, остальные значения распределяются пропорционально между ними. Форма распределения сохраняется, но абсолютные единицы измерения теряются, что упрощает сравнение и визуализацию данных.

9. Какие статистические параметры можно вычислить для скалярного поля?

Статистические параметры скалярного поля, которые обычно вычисляют: минимум и максимум, среднее значение, медиану, стандартное отклонение, дисперсию, а также квартили или перцентили. Эти параметры позволяют оценить диапазон, центральную тенденцию и разброс значений поля

10. Как интерпретировать значения: минимум, максимум, среднее, дисперсия?

- минимум и максимум показывают диапазон значений и возможные экстремумы;
- среднее значение характеризует общий уровень скалярного поля;
- дисперсия (и стандартное отклонение) отражает степень разброса значений: чем она больше, тем сильнее колебания и шум в данных.

11. Для чего используется гауссов фильтр при обработке скалярных полей?

Гауссов фильтр используется для сглаживания скалярных полей и подавления шума. Он уменьшает влияние резких локальных колебаний, делая поле более плавным и устойчивым для дальнейшего анализа, вычисления градиентов, статистических характеристик и визуализации.

12. Чем отличается гауссов фильтр от скользящего среднего? 

Отличие гауссова фильтра от скользящего среднего заключается в способе усреднения. Скользящее среднее использует равные веса для всех значений в окне, из-за чего могут появляться резкие границы и сильное размытие. Гауссов фильтр применяет веса, уменьшающиеся по закону Гаусса от центра окна, что даёт более плавное и естественное сглаживание с меньшим количеством артефактов.

13. Как можно визуализировать скалярное поле, используя цветовую карту?

Визуализация скалярного поля с помощью цветовой карты выполняется путём сопоставления каждому значению поля цвета из цветовой шкалы. Для этого значения скалярного поля обычно нормализуют в диапазон [0, 1], после чего применяют цветовую карту (например, viridis или plasma) и отображают точки облака с соответствующими цветами

14. Зачем может понадобиться использовать скалярное поле в качестве координаты (например, заменив Z)?

Использование скалярного поля в качестве координаты (например, замена Z) позволяет интерпретировать значения поля как геометрическую величину. Это полезно для построения профилей, поверхностей или карт высот, а также для анализа структуры распределения скалярного поля в пространстве.

15. Что произойдёт с визуализацией, если применить некорректную нормализацию?

Некорректная нормализация приводит к искажённой визуализации: цвета могут стать однотонными, контраст между значениями исчезнет или, наоборот, будет чрезмерно усилен. В результате визуализация перестаёт отражать реальное распределение скалярного поля и может вводить в заблуждение.

16. Как можно обнаружить пропущенные значения в скалярном поле?

Обнаружение пропущенных значений в скалярном поле обычно выполняется с помощью специальных маркеров, таких как NaN. В NumPy это можно сделать функцией np.isnan, которая позволяет найти и подсчитать элементы с отсутствующими значениями и затем принять решение об их интерполяции или удалении.

17. Что такое интерполяция и как она может быть реализована в NumPy/Scipy?

Интерполяция - это восстановление неизвестных (пропущенных) значений по известным данным, исходя из предположения, что функция меняется плавно. В NumPy её можно сделать линейно по индексу с помощью np.interp, где берутся значения “слева” и “справа” от пропусков. В SciPy это делается через scipy.interpolate.interp1d (линейная, кубическая и т.д.), задавая массив индексов/координат и получая функцию, которая возвращает заполненные значения.

18. Как отфильтровать точки по условию, заданному на значения скалярного поля?

Фильтрация по условию делается через булеву маску. Например, для диапазона [lo, hi]: mask = (s >= lo) & (s <= hi)
после чего выбирают точки: xyz_f = xyz[mask] (и при необходимости s_f = s[mask]). Это оставит только те точки, чьи скалярные значения удовлетворяют условию.

19. Какие библиотеки Python можно использовать для: визуализации 3D-облаков точек (назовите 1-2), сглаживания/фильтрации данных, работы с цветом?

Библиотеки:
- визуализация 3D-облаков точек: Open3D, matplotlib (базовая 3D-отрисовка) или Plotly;
- сглаживание/фильтрация: SciPy (например scipy.ndimage), NumPy (свёртка/convolve);
- работа с цветом: matplotlib (colormaps, например plt.cm.viridis), иногда matplotlib.colors.

20. Опишите пошагово, как бы вы добавили скалярное поле к облаку точек и окрасили его по этому полю.

Сначала загружается или формируется облако точек в виде массива координат, где для каждой точки заданы значения x, y и z. Затем для этих точек создаётся или загружается скалярное поле - отдельный массив числовых значений, в котором каждому элементу соответствует одна точка облака. При необходимости скалярное поле предварительно обрабатывается, например сглаживается или в нём интерполируются пропущенные значения. После этого скалярное поле нормализуется в диапазон от 0 до 1, чтобы его значения можно было корректно использовать для визуализации. Далее нормализованные значения преобразуются в цвета с помощью цветовой карты, в результате чего каждой точке сопоставляется RGB-цвет. На последнем этапе облако точек визуализируется с использованием полученных цветов либо координаты и цветовые значения объединяются в один массив для сохранения и дальнейшей обработки.

21. Почему важно сглаживать скалярные поля перед анализом?

Сглаживание важно, потому что шум и локальные выбросы делают анализ нестабильным: завышают дисперсию, дают “рваные” градиенты, мешают пороговой фильтрации и портят визуализацию (пятнистость). После сглаживания поле становится более устойчивым, лучше отражает реальную структуру данных и даёт более надёжные результаты при вычислении характеристик и выделении областей.

22. Что будет, если применить гауссов фильтр с очень большим значением сигма?

Если применить гауссов фильтр с очень большим значением сигмы, скалярное поле будет сильно сглажено. Локальные детали и мелкие структуры практически исчезнут, значения станут близкими друг к другу и будут стремиться к общему среднему уровню. В результате поле потеряет информативность, так как различия между точками будут почти полностью подавлены.

23. Как можно визуально определить наличие шума в скалярном поле?

Наличие шума в скалярном поле можно определить визуально по нескольким признакам. При цветовой визуализации появляется мелкая пятнистость и резкие перепады цвета между соседними точками без очевидной геометрической причины. На графике значений скалярного поля наблюдаются быстрые и хаотичные колебания. Также гистограмма может быть слишком широкой или иметь множество мелких пиков, что указывает на высокий уровень случайных флуктуаций.

24. Можно ли применить скалярное поле как Z-координату, если оно содержит пропуски (NaN)? Почему?

Использовать скалярное поле в качестве Z-координаты при наличии пропусков нельзя без предварительной обработки. Значения NaN не являются корректными числовыми координатами, из-за чего соответствующие точки либо не отображаются, либо приводят к ошибкам в вычислениях и визуализации. Перед заменой координаты Z такие пропуски необходимо интерполировать, заполнить допустимыми значениями или удалить соответствующие точки.
